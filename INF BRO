-- AutoWeave JSON-Integrated Toggle
-- Press T to toggle ON/OFF
-- Updates the CG_AutoWeave field in a simulated JSON config

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Simulate the executor JSON config
local Config = {
    CG_AutoWeave = false,                  -- main toggle
    CG_AutoWeave_LegitMode = false,        -- optional
    CG_AutoWeave_ActivationDelay = 0       -- changed to 0
}

-- Function to toggle AutoWeave
local function toggleAutoWeave()
    Config.CG_AutoWeave = not Config.CG_AutoWeave
    print("[CG_AutoWeave] " .. (Config.CG_AutoWeave and "ENABLED" or "DISABLED"))
end

-- Input listener for the toggle key
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.T then
        toggleAutoWeave()
    end
end)

-- Heartbeat loop to keep the global variable updated
-- This simulates the executor exposing the toggle globally
RunService.Heartbeat:Connect(function()
    _G.CG_AutoWeave = Config.CG_AutoWeave
end)
